import{l as j,r as h,o as q,x as z,c as y,b as t,w as s,e as o,m as E,f as r,d as l,q as m,j as n,t as i,F as G,p as L}from"./index-CmCH_pXY.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"detail-view"},$={key:1,class:"error-container"},H={class:"phone-image-container"},J={class:"phone-image-placeholder"},K={class:"phone-details"},O={class:"phone-title"},Q={class:"phone-price"},U={class:"detail-section"},W={class:"detail-section"},X={class:"rating-container"},Y={class:"rating-item"},Z={class:"rating-item"},ee={class:"rating-item"},te={class:"detail-section"},le={class:"features-container"},se={class:"actions"},ae={__name:"DetailView",setup(oe){const k=E(),w=z(),B=j(),a=h(null),u=h(!0),d=h(null);q(async()=>{const p=Number(w.params.id);if(!p){d.value="无效的手机ID",u.value=!1;return}try{u.value=!0,d.value=null,a.value=await B.getPhoneDetail(p),a.value||(d.value=`找不到ID为${p}的手机`)}catch(e){console.error("获取手机详情失败:",e),d.value="加载手机详情失败，请稍后再试"}finally{u.value=!1}});const v=()=>{k.push("/recommend")};return(p,e)=>{const D=o("el-header"),_=o("el-skeleton-item"),C=o("el-skeleton"),V=o("el-card"),c=o("el-button"),b=o("el-empty"),x=o("el-col"),f=o("el-descriptions-item"),I=o("el-descriptions"),g=o("el-rate"),N=o("el-tag"),S=o("el-row"),A=o("el-main"),F=o("el-container");return r(),y("div",T,[t(F,null,{default:s(()=>[t(D,null,{default:s(()=>e[0]||(e[0]=[l("h1",{class:"header-title"},"手机详情",-1)])),_:1,__:[0]}),t(A,null,{default:s(()=>[u.value?(r(),m(V,{key:0,class:"loading-card"},{default:s(()=>[t(C,{style:{width:"100%"},animated:""},{template:s(()=>[t(_,{variant:"image",style:{width:"240px",height:"240px",margin:"0 auto 20px"}}),t(_,{variant:"h1",style:{width:"50%"}}),t(_,{variant:"text",style:{"margin-top":"16px",width:"80%"}}),t(_,{variant:"text",style:{width:"60%"}}),t(_,{variant:"text",style:{width:"70%"}})]),_:1})]),_:1})):d.value?(r(),y("div",$,[t(b,{description:"无法获取手机详情"},{description:s(()=>[l("p",null,i(d.value),1)]),default:s(()=>[t(c,{type:"primary",onClick:v},{default:s(()=>e[1]||(e[1]=[n("返回列表")])),_:1,__:[1]})]),_:1})])):a.value?(r(),m(S,{key:2,gutter:30},{default:s(()=>[t(x,{xs:24,sm:24,md:8,lg:8,xl:6},{default:s(()=>[l("div",H,[l("div",J,i(a.value.brand.charAt(0))+i(a.value.name.charAt(0)),1)])]),_:1}),t(x,{xs:24,sm:24,md:16,lg:16,xl:18},{default:s(()=>[l("div",K,[l("h1",O,i(a.value.name),1),l("div",Q,"¥"+i(a.value.price),1),l("div",U,[e[2]||(e[2]=l("h2",{class:"section-title"},"基本信息",-1)),t(I,{column:1,border:""},{default:s(()=>[t(f,{label:"品牌"},{default:s(()=>[n(i(a.value.brand),1)]),_:1}),t(f,{label:"屏幕尺寸"},{default:s(()=>[n(i(a.value.screen)+" 英寸",1)]),_:1}),t(f,{label:"存储容量"},{default:s(()=>[n(i(a.value.storage)+" GB",1)]),_:1})]),_:1})]),l("div",W,[e[6]||(e[6]=l("h2",{class:"section-title"},"性能评分",-1)),l("div",X,[l("div",Y,[e[3]||(e[3]=l("span",{class:"rating-label"},"相机:",-1)),t(g,{"model-value":a.value.camera,disabled:""},null,8,["model-value"])]),l("div",Z,[e[4]||(e[4]=l("span",{class:"rating-label"},"性能:",-1)),t(g,{"model-value":a.value.performance,disabled:""},null,8,["model-value"])]),l("div",ee,[e[5]||(e[5]=l("span",{class:"rating-label"},"续航:",-1)),t(g,{"model-value":a.value.battery,disabled:""},null,8,["model-value"])])])]),l("div",te,[e[7]||(e[7]=l("h2",{class:"section-title"},"主要特性",-1)),l("div",le,[(r(!0),y(G,null,L(a.value.features,(P,R)=>(r(),m(N,{key:R,class:"feature-tag",size:"large"},{default:s(()=>[n(i(P),1)]),_:2},1024))),128))])]),l("div",se,[t(c,{type:"primary",onClick:v},{default:s(()=>e[8]||(e[8]=[n("返回")])),_:1,__:[8]}),t(c,{type:"success"},{default:s(()=>e[9]||(e[9]=[n("添加到对比")])),_:1,__:[9]}),t(c,{type:"danger",plain:""},{default:s(()=>e[10]||(e[10]=[n("收藏")])),_:1,__:[10]})])])]),_:1})]),_:1})):(r(),m(b,{key:3,description:"找不到该手机"},{default:s(()=>[t(c,{type:"primary",onClick:v},{default:s(()=>e[11]||(e[11]=[n("返回列表")])),_:1,__:[11]})]),_:1}))]),_:1})]),_:1})])}}},re=M(ae,[["__scopeId","data-v-bdf9670b"]]);export{re as default};
