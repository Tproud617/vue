import{l as j,s as z,o as q,c as v,b as t,w as n,e as d,m as E,n as I,f as u,d as l,F as k,p as C,u as a,q as V,j as g,t as m,v as O}from"./index-CmCH_pXY.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"recommend-view"},J={class:"filter-header"},K={class:"filter-section"},Q={class:"brand-tags"},W={class:"filter-section"},X={class:"filter-section"},Y={class:"importance-rating"},Z={class:"rating-row"},ee={class:"rating-row"},le={class:"rating-row"},se={class:"filter-section"},te={class:"filter-section"},ae={class:"recommendation-header"},oe={key:0,class:"phone-grid"},ne=["src","alt"],ie={class:"phone-info"},de={class:"price"},re={class:"match-score"},ue={class:"phone-specs"},me={class:"spec-item"},ce={class:"spec-item"},_e={class:"phone-ratings"},pe={class:"rating-item"},ge={class:"rating-item"},fe={class:"rating-item"},ve={class:"usage-tags"},Ve={__name:"RecommendView",setup(be){const R=E(),c=j(),{loading:G,recommendations:y}=z(c),{preferences:o,availableBrands:S}=z(c),D=async f=>{const e=o.value.brand.indexOf(f);e>-1?o.value.brand.splice(e,1):o.value.brand.push(f),await _()},$=async()=>{await c.resetPreferences(),await c.generateRecommendations()},_=async()=>{await c.generateRecommendations()},F=f=>{R.push(`/detail/${f}`)};return q(async()=>{await c.initialize(),await c.generateRecommendations()}),(f,e)=>{const B=d("el-button"),b=d("el-tag"),N=d("el-slider"),p=d("el-rate"),r=d("el-option"),U=d("el-select"),w=d("el-card"),h=d("el-col"),P=d("el-progress"),x=d("el-tooltip"),T=d("el-empty"),L=d("el-row"),M=I("loading");return u(),v("div",H,[t(L,{gutter:20},{default:n(()=>[t(h,{span:6},{default:n(()=>[t(w,{class:"filter-card",shadow:"hover"},{header:n(()=>[l("div",J,[e[7]||(e[7]=l("h3",null,"筛选条件",-1)),t(B,{type:"primary",onClick:$,size:"small"},{default:n(()=>e[6]||(e[6]=[g("重置")])),_:1,__:[6]})])]),default:n(()=>[l("div",K,[e[8]||(e[8]=l("h4",null,"品牌选择",-1)),l("div",Q,[(u(!0),v(k,null,C(a(S),s=>(u(),V(b,{key:s,type:a(o).brand.includes(s)?"success":"info",class:"brand-tag",onClick:i=>D(s),effect:a(o).brand.includes(s)?"dark":"light"},{default:n(()=>[g(m(s),1)]),_:2},1032,["type","onClick","effect"]))),128))])]),l("div",W,[e[9]||(e[9]=l("h4",null,"预算范围",-1)),t(N,{modelValue:a(o).budget,"onUpdate:modelValue":e[0]||(e[0]=s=>a(o).budget=s),min:1e3,max:12e3,step:500,"show-stops":"","show-input":"",onChange:_},null,8,["modelValue"])]),l("div",X,[e[13]||(e[13]=l("h4",null,"性能需求",-1)),l("div",Y,[l("div",Z,[e[10]||(e[10]=l("span",null,"相机重要性",-1)),t(p,{modelValue:a(o).camera,"onUpdate:modelValue":e[1]||(e[1]=s=>a(o).camera=s),onChange:_},null,8,["modelValue"])]),l("div",ee,[e[11]||(e[11]=l("span",null,"性能重要性",-1)),t(p,{modelValue:a(o).performance,"onUpdate:modelValue":e[2]||(e[2]=s=>a(o).performance=s),onChange:_},null,8,["modelValue"])]),l("div",le,[e[12]||(e[12]=l("span",null,"电池重要性",-1)),t(p,{modelValue:a(o).battery,"onUpdate:modelValue":e[3]||(e[3]=s=>a(o).battery=s),onChange:_},null,8,["modelValue"])])])]),l("div",se,[e[14]||(e[14]=l("h4",null,"存储需求",-1)),t(U,{modelValue:a(o).storage,"onUpdate:modelValue":e[4]||(e[4]=s=>a(o).storage=s),placeholder:"选择存储容量",onChange:_},{default:n(()=>[t(r,{label:"64GB",value:64}),t(r,{label:"128GB",value:128}),t(r,{label:"256GB",value:256}),t(r,{label:"512GB",value:512}),t(r,{label:"1TB",value:1024})]),_:1},8,["modelValue"])]),l("div",te,[e[15]||(e[15]=l("h4",null,"使用场景",-1)),t(U,{modelValue:a(o).usage,"onUpdate:modelValue":e[5]||(e[5]=s=>a(o).usage=s),multiple:"",placeholder:"选择使用场景",onChange:_},{default:n(()=>[t(r,{label:"游戏",value:"游戏"}),t(r,{label:"拍照",value:"拍照"}),t(r,{label:"社交",value:"社交"}),t(r,{label:"办公",value:"办公"}),t(r,{label:"影音",value:"影音"})]),_:1},8,["modelValue"])])]),_:1})]),_:1}),t(h,{span:18},{default:n(()=>[O((u(),V(w,{shadow:"hover"},{header:n(()=>[l("div",ae,[e[16]||(e[16]=l("h3",null,"推荐手机",-1)),t(b,{type:"info"},{default:n(()=>[g("找到 "+m(a(y).length)+" 款手机",1)]),_:1})])]),default:n(()=>[a(y).length>0?(u(),v("div",oe,[(u(!0),v(k,null,C(a(y),s=>(u(),V(w,{key:s.id,class:"phone-card",shadow:"hover"},{default:n(()=>[l("img",{src:s.image,alt:s.name,class:"phone-image"},null,8,ne),l("h4",null,m(s.name),1),l("div",ie,[t(b,{size:"small",type:"success"},{default:n(()=>[g(m(s.brand),1)]),_:2},1024),l("span",de,"¥"+m(s.price.toLocaleString()),1)]),l("div",re,[t(P,{percentage:Math.min(100,s.matchScore/25*100),format:i=>`匹配度: ${i}%`,status:"success"},null,8,["percentage","format"])]),l("div",ue,[l("div",me,[t(x,{content:"存储容量"},{default:n(()=>[e[17]||(e[17]=l("i",{class:"el-icon"},"💾",-1)),l("span",null,m(s.storage)+"GB",1)]),_:2,__:[17]},1024)]),l("div",ce,[t(x,{content:"屏幕尺寸"},{default:n(()=>[e[18]||(e[18]=l("i",{class:"el-icon"},"📱",-1)),l("span",null,m(s.screen)+'"',1)]),_:2,__:[18]},1024)])]),l("div",_e,[l("div",pe,[e[19]||(e[19]=l("span",{class:"rating-label"},"相机",-1)),t(p,{modelValue:s.camera,"onUpdate:modelValue":i=>s.camera=i,disabled:"",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),l("div",ge,[e[20]||(e[20]=l("span",{class:"rating-label"},"性能",-1)),t(p,{modelValue:s.performance,"onUpdate:modelValue":i=>s.performance=i,disabled:"",size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),l("div",fe,[e[21]||(e[21]=l("span",{class:"rating-label"},"电池",-1)),t(p,{modelValue:s.battery,"onUpdate:modelValue":i=>s.battery=i,disabled:"",size:"small"},null,8,["modelValue","onUpdate:modelValue"])])]),l("div",ve,[(u(!0),v(k,null,C(s.usage,i=>(u(),V(b,{key:i,size:"small",type:a(o).usage.includes(i)?"warning":"info",class:"usage-tag"},{default:n(()=>[g(m(i),1)]),_:2},1032,["type"]))),128))]),t(B,{type:"primary",onClick:i=>F(s.id),size:"small",class:"detail-btn"},{default:n(()=>e[22]||(e[22]=[g(" 查看详情 ")])),_:2,__:[22]},1032,["onClick"])]),_:2},1024))),128))])):(u(),V(T,{key:1,description:"暂无符合条件的手机"}))]),_:1})),[[M,a(G)]])]),_:1})]),_:1})])}}},ke=A(Ve,[["__scopeId","data-v-806f460f"]]);export{ke as default};
