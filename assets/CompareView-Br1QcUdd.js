import{_ as R,y as D,c as B,b as y,d as t,g as a,w as s,h as d,A as H,i as p,e as u,u as m,k as x,I as M,G as V,a2 as T,a3 as j,t as h,a4 as A,C as q,F as $,E,a5 as J,n as K,a6 as O,S as L,R as S}from"./index-CqiuWbKT.js";const Q={class:"compare-view"},U={class:"header-title"},W={class:"header-actions"},X={key:0,class:"empty-container"},Y={class:"empty-illustration"},Z={class:"empty-icon"},ee={class:"compare-container"},te={class:"compare-header"},ae={class:"compare-title"},se={class:"phone-image-wrapper"},le=["src","alt"],oe={class:"remove-overlay"},ne={class:"phone-name"},re={class:"phone-price"},ie={class:"phone-badge"},ce={class:"add-icon-container"},de={class:"compare-table-container"},pe={class:"table-phone-header"},ue={class:"table-phone-name"},me={class:"compare-actions"},he={__name:"CompareView",setup(_e){const F=H(),k=D(),n=B(()=>k.comparePhones),z=B(()=>[{property:"品牌",key:"brand",highlight:!0},{property:"价格",key:"price",format:e=>`¥${e.toLocaleString()}`,highlight:!0},{property:"屏幕尺寸",key:"screen",format:e=>`${e}英寸`,highlight:!0},{property:"存储容量",key:"storage",format:e=>`${e}GB`,highlight:!0},{property:"相机评分",key:"camera",format:e=>`${e}星`,highlight:!0},{property:"性能评分",key:"performance",format:e=>`${e}星`,highlight:!0},{property:"电池评分",key:"battery",format:e=>`${e}星`,highlight:!0},{property:"特性",key:"features",format:e=>e.join(", "),highlight:!1}].map(e=>{const l={property:e.property,key:e.key,highlight:e.highlight};return n.value.forEach((r,_)=>{const i=r[e.key];l["phone"+_]=e.format?e.format(i):i,l["raw"+_]=i}),l})),I=(c,e)=>{if(!c.highlight||n.value.length<=1)return!1;const l=c.key,r=c["raw"+e],_=["screen","storage","camera","performance","battery"],i=["price"];let f=!0;for(let g=0;g<n.value.length;g++){if(g===e)continue;const v=c["raw"+g];if(_.includes(l)&&v>r){f=!1;break}if(i.includes(l)&&v<r){f=!1;break}}return f},N=c=>{L.confirm("确定要从对比列表中移除这台手机吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{k.removeFromCompare(c),S.success("已从对比列表中移除")}).catch(()=>{})},P=async()=>{try{await L.confirm("确定要清空对比列表吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),k.clearCompareList(),S.success("对比列表已清空")}catch{}},w=()=>{F.push("/recommend")};return(c,e)=>{const l=d("el-icon"),r=d("el-button"),_=d("el-header"),i=d("el-tag"),f=d("el-table-column"),g=d("el-table"),v=d("el-main"),G=d("el-container");return p(),y("div",Q,[e[10]||(e[10]=t("div",{class:"bg-gradient-1"},null,-1)),e[11]||(e[11]=t("div",{class:"bg-gradient-2"},null,-1)),e[12]||(e[12]=t("div",{class:"bg-gradient-3"},null,-1)),a(G,null,{default:s(()=>[a(_,null,{default:s(()=>[t("h1",U,[a(l,{class:"header-icon"},{default:s(()=>[a(m(x))]),_:1}),e[0]||(e[0]=u(" 手机参数对比 "))]),t("div",W,[a(r,{type:"danger",onClick:P,disabled:n.value.length===0,class:"clear-btn"},{default:s(()=>[a(l,null,{default:s(()=>[a(m(M))]),_:1}),e[1]||(e[1]=u(" 清空对比列表 "))]),_:1,__:[1]},8,["disabled"])])]),_:1}),a(v,null,{default:s(()=>[n.value.length===0?(p(),y("div",X,[t("div",Y,[t("div",Z,[a(l,null,{default:s(()=>[a(m(x))]),_:1})]),e[2]||(e[2]=t("div",{class:"empty-phones"},[t("div",{class:"empty-phone phone1"}),t("div",{class:"empty-phone phone2"}),t("div",{class:"empty-phone phone3"}),t("div",{class:"empty-phone phone4"})],-1))]),e[4]||(e[4]=t("h2",{class:"empty-title"},"对比列表为空",-1)),e[5]||(e[5]=t("p",{class:"empty-description"},"添加手机到对比列表，可以更直观地比较它们的参数差异",-1)),a(r,{type:"primary",onClick:w,size:"large",class:"add-phone-btn"},{default:s(()=>[a(l,null,{default:s(()=>[a(m(T))]),_:1}),e[3]||(e[3]=u(" 去添加手机 "))]),_:1,__:[3]})])):(p(),V(j,{key:1,name:"fade-scale"},{default:s(()=>[t("div",ee,[t("div",te,[t("h2",ae,"已添加 "+h(n.value.length)+" 台手机",1),a(i,{type:"info",effect:"dark",class:"compare-tag"},{default:s(()=>e[6]||(e[6]=[u(" 最多可添加4台手机进行对比 ")])),_:1,__:[6]})]),a(A,{name:"phone-list",tag:"div",class:"phone-cards"},{default:s(()=>[(p(!0),y($,null,E(n.value,(o,b)=>(p(),y("div",{key:o.id,class:"phone-card"},[t("div",se,[t("img",{src:o.image,alt:o.name,class:"phone-image"},null,8,le),e[7]||(e[7]=t("div",{class:"phone-model-shadow"},null,-1)),t("div",oe,[a(r,{type:"danger",circle:"",onClick:C=>N(o.id),class:"remove-btn",title:"移除此手机"},{default:s(()=>[a(l,null,{default:s(()=>[a(m(J))]),_:1})]),_:2},1032,["onClick"])])]),t("h3",ne,h(o.name),1),t("div",re,"¥"+h(o.price.toLocaleString()),1),t("div",ie,[a(i,{size:"small",type:"success"},{default:s(()=>[u(h(o.brand),1)]),_:2},1024)])]))),128)),n.value.length<4?(p(),y("div",{key:"add",class:"add-more-card",onClick:w},[t("div",ce,[a(l,{class:"add-icon"},{default:s(()=>[a(m(T))]),_:1})]),e[8]||(e[8]=t("div",{class:"add-text"},"添加更多手机",-1))])):q("",!0)]),_:1}),t("div",de,[a(g,{data:z.value,border:"",style:{width:"100%"},class:"compare-table",stripe:"","highlight-current-row":"","header-cell-style":{background:"#f9fbff",color:"#409EFF"}},{default:s(()=>[a(f,{prop:"property",label:"参数项",width:"180",fixed:"left","header-align":"center",align:"center","class-name":"property-column"}),(p(!0),y($,null,E(n.value,(o,b)=>(p(),V(f,{key:o.id,label:o.name,prop:"phone"+b,"header-align":"center",align:"center","class-name":"value-column"},{header:s(()=>[t("div",pe,[t("div",ue,h(o.name),1),a(i,{size:"small",type:"success",class:"table-phone-brand"},{default:s(()=>[u(h(o.brand),1)]),_:2},1024)])]),default:s(C=>[t("div",{class:K(["cell-value",{highlight:I(C.row,b)}])},h(C.row["phone"+b]),3)]),_:2},1032,["label","prop"]))),128))]),_:1},8,["data"])]),t("div",me,[a(r,{onClick:w,type:"primary",class:"action-btn"},{default:s(()=>[a(l,null,{default:s(()=>[a(m(O))]),_:1}),e[9]||(e[9]=u(" 返回推荐页 "))]),_:1,__:[9]})])])]),_:1}))]),_:1})]),_:1})])}}},ge=R(he,[["__scopeId","data-v-1d3d3286"]]);export{ge as default};
